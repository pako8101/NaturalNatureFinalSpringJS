<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/head::head">
    <meta charset="UTF-8">
    <title>Recycling Map - EcoLife</title>
    <link rel="stylesheet" href="/css/recycling.css">
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/reset-css.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>

<body>
<div th:replace="~{fragments/preloader :: preloader}"></div>
<nav class="navbar" th:replace="fragments/navbar :: navbar"></nav>

<div class="recycling-container">
    <h1><i class="fas fa-recycle"></i> Global Recycling Points</h1>

    <form th:action="@{/recycling}" method="get">
        <input type="text" id="city" name="city" placeholder="Enter city...">
        <button type="submit"><i class="fas fa-search"></i> Search</button>
    </form>

    <!-- WasteFreeMap iframe embed -->
    <div class="map-wrapper" style="position:relative; padding-bottom: 56.25%; height: 0; overflow: hidden; margin-top: 20px;">
        <iframe
                src="https://wastefreemap.com/viewer?center=25.655200,43.083900,9.00"
                frameborder="0"
                style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: none;"
                allowfullscreen
                title="WasteFreeMap">
        </iframe>
    </div>

    <!-- Optional display of locations -->
    <div th:each="point : ${points}" class="card">
        <h3 th:text="${point.address}"></h3>
        <p th:text="${point.city} + ' - ' + ${point.type}"></p>
    </div>
</div>

<footer th:replace="fragments/footer :: footer"></footer>
</body>
</html>

<!--<!DOCTYPE html>-->
<!--<html lang="en" xmlns:th="http://www.thymeleaf.org">-->
<!--<head th:replace="fragments/head::head">-->
<!--</head>-->
<!--    <meta charset="UTF-8">-->
<!--    <title>Recycling Map - EcoLife</title>-->
<!--    <link rel="stylesheet" href="/css/recycling.css">-->
<!--    <link rel="stylesheet" href="/css/style.css">-->
<!--    <link rel="stylesheet" href="/css/reset-css.css">-->
<!--    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">-->
<!--    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>-->
<!--    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>-->

<!--<body>-->
<!--<nav class="navbar" th:replace="fragments/navbar :: navbar"></nav>-->
<!--<div class="recycling-container">-->
<!--    <h1><i class="fas fa-recycle"></i> Recycling Points</h1>-->
<!--    <form th:action="@{/recycling}" method="get">-->
<!--        <input type="text" id="city" name="city" placeholder="Enter city...">-->
<!--        <button type="submit"><i class="fas fa-search"></i> Search</button>-->
<!--    </form>-->
<!--    <div id="map"></div>-->
<!--    <div th:each="point : ${points}" class="card">-->
<!--        <h3 th:text="${point.address}"></h3>-->
<!--        <p th:text="${point.city} + ' - ' + ${point.type}"></p>-->
<!--    </div>-->
<!--</div>-->
<!--<script th:inline="javascript">-->
<!--    var map = L.map('map').setView([42.6977, 23.3219], 13);-->
<!--    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {-->
<!--        maxZoom: 19,-->
<!--    }).addTo(map);-->
<!--    var points = /*[[${points}]]*/ [];-->
<!--    points.forEach(function(point) {-->
<!--        L.marker([point.latitude, point.longitude])-->
<!--            .addTo(map)-->
<!--            .bindPopup(point.address + '<br>' + point.type);-->
<!--    });-->
<!--</script>-->
<!--<footer th:replace="fragments/footer :: footer"></footer>-->
<!--</body>-->
<!--</html>-->